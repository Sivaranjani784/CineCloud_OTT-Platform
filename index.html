<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTT Platform - Watch Movies Online</title>
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="container navbar-content">
            <div class="nav-left flex items-center gap-2">
                <div class="hamburger-menu" id="hamburger-menu">
                    <i class="fas fa-bars"></i>
                </div>
                <a href="index.html" class="logo">
                    <i class="fas fa-cloud"></i> Cine<span style="color: white;">Cloud</span>
                </a>
                <ul class="nav-links desktop-only">
                    <li><a href="index.html" class="active">Home</a></li>
                    <li><a href="mylist.html" id="my-list-link">My List</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>

            <div class="nav-center">
                <div class="search-container" id="search-container">
                    <i class="fas fa-search search-icon" id="search-icon"></i>
                    <input type="text" class="search-input" id="search-input" placeholder="Search movies...">
                </div>
            </div>

            <div class="nav-right">
                <div id="auth-buttons">
                    <!-- Injected by JS -->
                </div>
            </div>
        </div>

        <!-- Mobile Dropdown Menu -->
        <div class="mobile-menu hidden" id="mobile-menu">
            <ul class="mobile-nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="mylist.html">My List</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero" id="hero">
        <div class="hero-overlay">
            <div class="hero-content">
                <h1 class="hero-title" id="hero-title">Loading...</h1>
                <p class="hero-desc" id="hero-desc">Please wait while we fetch the latest movies.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="playHeroTrailer()"><i class="fas fa-play"></i> Play
                        Trailer</button>
                    <button class="btn btn-secondary" onclick="addToMyListHero()"><i class="fas fa-plus"></i> My
                        List</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <!-- Removed negative margin to avoid collision as requested -->
    <main class="container" style="position: relative; z-index: 10;">
        <!-- Search Results -->
        <div id="search-results" class="row hidden">
            <h2 class="row-title">Search Results</h2>
            <div class="row-posters" id="search-results-container"></div>
        </div>

        <!-- Category Filters -->
        <div class="category-filters" id="category-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="te">Telugu</button>
            <button class="filter-btn" data-filter="hi">Hindi</button>
            <button class="filter-btn" data-filter="ta">Tamil</button>
            <button class="filter-btn" data-filter="kn">Kannada</button>
            <button class="filter-btn" data-filter="ml">Malayalam</button>
            <button class="filter-btn" data-filter="en">English</button>
            <button class="filter-btn" data-filter="anime">Anime</button>
        </div>

        <!-- Categories -->
        <div id="category-container">
            <!-- Categories will be injected here -->
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 OTT Platform. All rights reserved.</p>
        <div class="social-links">
            <i class="fab fa-facebook"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-twitter"></i>
        </div>
    </footer>

    <!-- Modals -->

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="auth-container"> <!-- Wrapper needed for centering -->
                <div class="auth-box">
                    <span class="close-modal" onclick="closeModal('login-modal')">&times;</span>
                    <h2 class="auth-title">Sign In</h2>
                    <form id="login-form">
                        <div class="form-group">
                            <input type="email" id="login-email" class="form-input" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="login-password" class="form-input" placeholder="Password"
                                required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
                    </form>
                    <div class="auth-footer" style="text-align: center; margin-top: 1rem;">
                        <p>New here? <a href="#" onclick="switchModal('login-modal', 'register-modal')">Sign up now</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="auth-container">
                <div class="auth-box">
                    <span class="close-modal" onclick="closeModal('register-modal')">&times;</span>
                    <h2 class="auth-title">Register</h2>
                    <form id="register-form">
                        <div class="form-group">
                            <input type="text" id="reg-name" class="form-input" placeholder="Full Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="reg-email" class="form-input" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="reg-password" class="form-input" placeholder="Password" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Register</button>
                    </form>
                    <div class="auth-footer" style="text-align: center; margin-top: 1rem;">
                        <p>Have an account? <a href="#" onclick="switchModal('register-modal', 'login-modal')">Sign
                                in</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Generic Confirmation Popup -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <h2 id="confirm-title" style="margin-bottom: 1rem;">Are you sure?</h2>
            <p id="confirm-message" style="margin-bottom: 2rem; color: #ccc;">Do you really want to do this?</p>
            <div class="flex justify-center gap-2">
                <button class="btn btn-primary" id="confirm-yes">Yes</button>
                <button class="btn btn-secondary" onclick="closeModal('confirm-modal')">No</button>
            </div>
        </div>
    </div>

    <!-- Trailer Modal -->
    <div id="trailer-modal" class="modal">
        <div class="modal-content"
            style="width: 80%; max-width: 900px; padding: 0; background: transparent; border: none;">
            <span class="close-modal" onclick="closeTrailerModal()"
                style="top: -30px; right: 0; color: white; font-size: 2rem;">&times;</span>
            <div id="trailer-player" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
                <!-- Iframe injected here -->
            </div>
        </div>
    </div>

    <script src="scripts/api.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/script.js"></script>
</body>

</html>